<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>BioCare Health Assessment System</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Rajdhani:wght@400;500;600;700&family=Roboto:wght@300;400;500&display=swap">
  <script src="https://unpkg.com/react@17/umd/react.development.js"></script>
  <script src="https://unpkg.com/react-dom@17/umd/react-dom.development.js"></script>
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
  <style>
    /* --- CSS for the Logo Container --- */
    #logo-container {
      position: absolute;
      top: 15px; /* Adjust as needed */
      right: 15px; /* Adjust as needed */
      width: 100px; /* Adjust as needed */
      height: 100px; /* Adjust as needed */
      z-index: 100; /* Ensure it's above other elements */
      border: 1px solid rgba(59, 130, 246, 0.3); /* Optional border */
      background-color: rgba(15, 23, 42, 0.5); /* Optional background */
      backdrop-filter: blur(5px); /* Optional blur */
      border-radius: 0.25rem;
      overflow: hidden; /* Ensures the canvas stays within bounds */
    }
    #logo-container canvas {
        display: block; /* Prevent extra space below canvas */
        width: 100% !important;
        height: 100% !important;
    }
    /* --- End Logo CSS --- */

    /* --- Existing CSS ... (Keep all your existing CSS here) --- */
    :root { /* */
      --primary: #3b82f6; /* */
      --primary-hover: #2563eb; /* */
      --secondary: #10B981; /* */
      --accent: #06B6D4; /* */
      --dark-bg: #1e293b; /* */
      --panel-bg: #0f172a; /* */
      --text-primary: #F9FAFB; /* */
      --text-secondary: #D1D5DB; /* */
      --glow-primary: 0 0 15px rgba(59, 130, 246, 0.5); /* */
      --glow-secondary: 0 0 15px rgba(16, 185, 129, 0.5); /* */
    }
    body { /* */
      font-family: 'Roboto', sans-serif; /* */
      margin: 0; /* */
      overflow: hidden; /* */
      background-color: var(--dark-bg); /* */
      color: var(--text-primary); /* */
    }
     h1, h2, h3, h4, h5, h6 { /* */
      font-family: 'Rajdhani', sans-serif; /* */
      font-weight: 600; /* */
    }
    .sci-panel { /* */
      background-color: rgba(15, 23, 42, 0.85); /* */
      backdrop-filter: blur(10px); /* */
      border: 1px solid rgba(59, 130, 246, 0.2); /* */
      border-radius: 0.5rem; /* */
      box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06), var(--glow-primary); /* */
    }
     .sci-title { /* */
      position: relative; /* */
      overflow: hidden; /* */
    }
     .sci-title::before { /* */
      content: ''; /* */
      position: absolute; /* */
      top: 0; /* */
      left: 0; /* */
      width: 5px; /* */
      height: 100%; /* */
      background: linear-gradient(180deg, var(--primary), var(--secondary)); /* */
    }
    .sci-badge { /* */
      background: linear-gradient(45deg, var(--primary), var(--accent)); /* */
      color: white; /* */
      padding: 0.25rem 0.75rem; /* */
      border-radius: 9999px; /* */
      font-size: 0.75rem; /* */
      font-weight: 500; /* */
    }
    .sci-highlight { /* */
      color: var(--secondary); /* */
      font-weight: 500; /* */
    }
    .glow-text { /* */
      text-shadow: 0 0 8px rgba(59, 130, 246, 0.6); /* */
    }
    #canvas-container { /* */
      flex-grow: 1; /* */
      height: 100vh; /* */
      position: relative; /* */
    }
    #canvas-container canvas { /* */
      display: block; /* */
      width: 100%; /* */
      height: 100%; /* */
      cursor: grab; /* */
    }
     #canvas-container canvas:active { /* */
      cursor: grabbing; /* */
    }
     #info-panel { /* */
      width: 375px; /* */
      height: 100vh; /* */
      overflow-y: auto; /* */
      flex-shrink: 0; /* */
      background-color: var(--panel-bg); /* */
      transition: transform 0.3s ease; /* */
      scrollbar-width: thin; /* */
      scrollbar-color: var(--primary) var(--panel-bg); /* */
    }
    #info-panel::-webkit-scrollbar { /* */
      width: 8px; /* */
    }
     #info-panel::-webkit-scrollbar-track { /* */
      background: var(--panel-bg); /* */
    }
    #info-panel::-webkit-scrollbar-thumb { /* */
      background-color: var(--primary); /* */
      border-radius: 20px; /* */
    }
     #loading-overlay { /* */
      position: fixed; /* */
      top: 0; /* */
      left: 0; /* */
      right: 0; /* */
      bottom: 0; /* */
      background-color: rgba(15, 23, 42, 0.95); /* */
      display: flex; /* */
      flex-direction: column; /* */
      justify-content: center; /* */
      align-items: center; /* */
      z-index: 50; /* */
    }
    .progress-bar { /* */
      width: 300px; /* */
      height: 8px; /* */
      background-color: rgba(255, 255, 255, 0.1); /* */
      border-radius: 4px; /* */
      overflow: hidden; /* */
      margin-top: 2rem; /* */
    }
    .progress-fill { /* */
      height: 100%; /* */
      background: linear-gradient(90deg, var(--primary), var(--secondary)); /* */
      width: 0%; /* */
      transition: width 0.3s ease; /* */
      box-shadow: var(--glow-primary); /* */
    }
    #controls-guide { /* */
      position: absolute; /* */
      bottom: 1rem; /* */
      right: 1rem; /* */
      background-color: rgba(15, 23, 42, 0.8); /* */
      color: white; /* */
      font-size: 0.75rem; /* */
      line-height: 1.25rem; /* */
      padding: 0.75rem; /* */
      border-radius: 0.5rem; /* */
      box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06); /* */
      z-index: 10; /* */
      max-width: 250px; /* */
      backdrop-filter: blur(8px); /* */
      border: 1px solid rgba(59, 130, 246, 0.15); /* */
      transition: opacity 0.3s; /* */
      opacity: 0.7; /* */
    }
     #controls-guide:hover { /* */
      opacity: 1; /* */
    }
    .hud-element { /* */
      position: absolute; /* */
      pointer-events: none; /* */
      z-index: 5; /* */
      font-family: 'Rajdhani', sans-serif; /* */
    }
    .body-stat { /* */
      top: 1rem; /* */
      left: 1rem; /* */
      font-size: 0.8rem; /* */
      padding: 0.75rem; /* */
      color: var(--text-secondary); /* */
      max-width: 250px; /* */
    }
    .body-scan-line { /* */
      position: absolute; /* */
      width: 100%; /* */
      height: 4px; /* */
      background: linear-gradient(90deg, /* */
          transparent, /* */
          rgba(59, 130, 246, 0.2), /* */
          rgba(59, 130, 246, 0.5), /* */
          rgba(59, 130, 246, 0.2), /* */
          transparent); /* */
      z-index: 10; /* */
      pointer-events: none; /* */
      box-shadow: 0 0 15px rgba(59, 130, 246, 0.4); /* */
      opacity: 0; /* */
      animation: scanAnimation 8s infinite; /* */
    }
     @keyframes scanAnimation { /* */
      0% { top: 0%; opacity: 1; } /* */
      90% { top: 100%; opacity: 1; } /* */
      91% { opacity: 0; } /* */
      100% { top: 0%; /* */
      opacity: 0; } /* */
    }
    .tracker { /* */
      position: absolute; /* */
      width: 80px; /* */
      height: 80px; /* */
      pointer-events: none; /* */
      z-index: 5; /* */
      border: 1px solid rgba(59, 130, 246, 0.5); /* */
      border-radius: 50%; /* */
      transform: translate(-50%, -50%); /* */
      background: radial-gradient(circle, /* */
          rgba(59, 130, 246, 0.15) 0%, /* */
          rgba(16, 185, 129, 0.05) 70%, /* */
          transparent 100%); /* */
      box-shadow: 0 0 15px rgba(59, 130, 246, 0.3); /* */
      opacity: 0; /* */
      transition: opacity 0.5s; /* */
    }
    .tracker::before, .tracker::after { /* */
      content: ''; /* */
      position: absolute; /* */
      top: 50%; /* */
      left: 50%; /* */
      transform: translate(-50%, -50%); /* */
      border-radius: 50%; /* */
    }
    .tracker::before { /* */
      width: 60px; /* */
      height: 60px; /* */
      border: 1px dashed rgba(59, 130, 246, 0.5); /* */
      animation: rotate 10s linear infinite; /* */
    }
     .tracker::after { /* */
      width: 10px; /* */
      height: 10px; /* */
      background-color: rgba(16, 185, 129, 0.8); /* */
      box-shadow: 0 0 8px rgba(16, 185, 129, 0.8); /* */
    }
     @keyframes rotate { /* */
      from { transform: translate(-50%, -50%) rotate(0deg); /* */
      } /* */
      to { transform: translate(-50%, -50%) rotate(360deg); /* */
      } /* */
    }
    .ar-label { /* */
      position: absolute; /* */
      color: var(--secondary); /* */
      font-size: 0.7rem; /* */
      letter-spacing: 0.05em; /* */
      pointer-events: none; /* */
      z-index: 5; /* */
      transition: opacity 0.5s; /* */
      opacity: 0; /* */
      text-shadow: 0 0 5px var(--secondary); /* */
    }
     .ar-label::after { /* */
      content: ''; /* */
      position: absolute; /* */
      top: 50%; /* */
      width: 30px; /* */
      height: 1px; /* */
      background-color: var(--secondary); /* */
      opacity: 0.5; /* */
    }
    .ar-label-left { /* */
      text-align: right; /* */
    }
     .ar-label-left::after { /* */
      right: -35px; /* */
    }
    .ar-label-right { /* */
      text-align: left; /* */
    }
    .ar-label-right::after { /* */
      left: -35px; /* */
    }
     .info-card { /* */
      opacity: 0; /* */
      transform: translateY(20px); /* */
      transition: opacity 0.5s, transform 0.5s; /* */
    }
     .info-card.show { /* */
      opacity: 1; /* */
      transform: translateY(0); /* */
    }
     @media (max-width: 768px) { /* */
      .flex-col-reverse { flex-direction: column-reverse; /* */
      } /* */
      #info-panel { /* */
        width: 100%; /* */
        height: 40%; /* */
        min-height: 250px; /* */
        max-height: 50%; /* */
      }
      #canvas-container { /* */
        height: 60%; /* */
      }
       .panel-toggle { /* */
        display: block !important; /* */
      }
       #info-panel.collapsed { /* */
        transform: translateY(calc(100% - 40px)); /* */
      }
       #toggle-panel-icon { /* */
        transform: rotate(0deg); /* */
        transition: transform 0.3s; /* */
      }
       #info-panel.collapsed #toggle-panel-icon { /* */
        transform: rotate(180deg); /* */
      }
     }
    .test-panel { /* */
      max-width: 100%; /* */
      height: 100%; /* */
      overflow-y: auto; /* */
      padding: 1rem; /* */
    }
    .blink-animation { /* */
      animation: blink 1.5s infinite; /* */
    }
    @keyframes blink { /* */
      0% { opacity: 0.3; /* */
      } /* */
      50% { opacity: 1; } /* */
      100% { opacity: 0.3; /* */
      } /* */
    }
    .pulse-animation { /* */
      animation: pulse 2s infinite; /* */
    }
     @keyframes pulse { /* */
      0% { transform: scale(1); /* */
      } /* */
      50% { transform: scale(1.05); } /* */
      100% { transform: scale(1); /* */
      } /* */
    }
    .glow { /* */
      box-shadow: 0 0 15px white; /* */
      animation: glow 1.5s infinite alternate; /* */
    }
     @keyframes glow { /* */
      from { box-shadow: 0 0 5px rgba(59, 130, 246, 0.6); /* */
      } /* */
      to { box-shadow: 0 0 20px rgba(59, 130, 246, 0.9); /* */
      } /* */
    }
    /* --- End of existing CSS --- */
  </style>
</head>
<body>
  <div id="loading-overlay"> <h2 class="text-4xl font-bold text-center mb-2 glow-text">BIOCARE ASSESSMENT SYSTEM</h2> <p class="text-blue-400 mb-2">Biometric scanning in progress...</p> <p class="text-gray-400 mb-6">Please remain still while we analyze your health parameters</p> <div class="progress-bar"> <div class="progress-fill" id="progress-bar"></div> </div>
    <p id="loading-text" class="mt-4 text-sm text-gray-300 blink-animation">Initializing bioscan...</p> </div>

  <div class="flex h-screen md:flex-row flex-col-reverse"> <div id="info-panel" class="relative"> <button id="panel-toggle" class="panel-toggle hidden absolute top-4 right-4 md:hidden bg-gray-700 p-2 rounded-md hover:bg-gray-600 focus:outline-none"> <svg id="toggle-panel-icon" xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor"> <path fill-rule="evenodd" d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z" clip-rule="evenodd" /> </svg>
      </button>

      <div class="p-6"> <div class="sci-title pl-6 mb-4"> <h1 class="text-2xl font-bold">BioCare Assessment System</h1> <p class="text-sm text-gray-400">Personalized Health Diagnostics</p> </div>
        <div class="flex items-center space-x-2 mb-4"> <div class="sci-badge bg-blue-700 text-blue-50"> <span class="opacity-60">BIO</span><span>METRICS</span> </div> <div class="h-2 w-2 rounded-full bg-green-400 animate-pulse"></div> <div class="text-xs text-green-400">ASSESSMENT ACTIVE</div> </div>
      </div>
      <div id="test-container" class="px-6 pb-6"> </div>
    </div>

    <div id="canvas-container" class="relative"> <div id="logo-container">
            </div>
        <div class="hud-element body-stat sci-panel"> <div class="text-xs text-blue-300 mb-1">DIAGNOSTIC STATUS</div> <div class="text-xs"> <span>SYSTEM</span>: <span id="system-status" class="text-green-400">STANDBY</span> </div>
            <div class="text-xs"> <span>RECOMMENDED TESTS</span>: <span class="text-yellow-400">5</span> </div> </div>
         <div class="body-scan-line"></div> <div id="body-tracker" class="tracker"></div> <div id="head-label" class="ar-label ar-label-left">COGNITIVE ASSESSMENT</div> <div id="torso-label" class="ar-label ar-label-right">CARDIOVASCULAR TEST</div> <div id="arm-label" class="ar-label ar-label-left">REACTION ASSESSMENT</div> <div id="leg-label" class="ar-label ar-label-right">STABILITY ASSESSMENT</div> <div id="abdomen-label" class="ar-label ar-label-right">BODY COMPOSITION</div> <div id="controls-guide" class="sci-panel"> <div class="text-xs text-blue-300 mb-1 font-semibold">INTERFACE CONTROLS</div> <div class="grid grid-cols-2 gap-x-3 gap-y-1 text-xs"> <span>ROTATE VIEW</span><span class="text-gray-300">Left Mouse / Drag</span> <span>ZOOM</span><span class="text-gray-300">Mouse Wheel</span> <span>PAN</span><span class="text-gray-300">Right Mouse / Drag</span> <span>RESET VIEW</span><span class="text-gray-300">Double Click</span> <span>SELECT TEST</span><span class="text-gray-300">Click Body Area</span> </div>
        </div>
    </div>
  </div>

  <audio id="sound-click" preload="auto"> <source src="https://assets.mixkit.co/sfx/preview/mixkit-modern-technology-select-3124.mp3" type="audio/mpeg"> </audio>
  <audio id="sound-hover" preload="auto"> <source src="https://assets.mixkit.co/sfx/preview/mixkit-interface-hint-notification-911.mp3" type="audio/mpeg"> </audio>
  <audio id="sound-scan" preload="auto"> <source src="https://assets.mixkit.co/sfx/preview/mixkit-sci-fi-interface-zoom-890.mp3" type="audio/mpeg"> </audio>

  <script type="text/babel">
    // --- Existing React Components... (Keep all your React components here) ---
    const TestManager = () => { /* ... */ }; /* */
    const WelcomeScreen = () => ( /* ... */ ); /* */
    const CognitiveTest = () => { /* ... */ }; /* */
    const CardiovascularTest = () => { /* ... */ }; /* */
    const BodyCompositionTest = () => { /* ... */ }; /* */
    const ReactionTest = () => { /* ... */ }; /* */
    const StabilityTest = () => { /* ... */ }; /* */
    // Render the main TestManager component to the DOM
    ReactDOM.render( /* */
      <TestManager />, /* */
      document.getElementById('test-container') /* */
    ); /* */
    // --- End Existing React Components ---
  </script>

  <script type="module">
    // --- MODIFIED Imports using full URLs ---
    import * as THREE from 'https://cdn.jsdelivr.net/npm/three@0.163.0/build/three.module.js';
    import { OrbitControls } from 'https://cdn.jsdelivr.net/npm/three@0.163.0/examples/jsm/controls/OrbitControls.js';
    import { GLTFLoader } from 'https://cdn.jsdelivr.net/npm/three@0.163.0/examples/jsm/loaders/GLTFLoader.js';
    import { RGBELoader } from 'https://cdn.jsdelivr.net/npm/three@0.163.0/examples/jsm/loaders/RGBELoader.js';
    import { EffectComposer } from 'https://cdn.jsdelivr.net/npm/three@0.163.0/examples/jsm/postprocessing/EffectComposer.js';
    import { RenderPass } from 'https://cdn.jsdelivr.net/npm/three@0.163.0/examples/jsm/postprocessing/RenderPass.js';
    import { UnrealBloomPass } from 'https://cdn.jsdelivr.net/npm/three@0.163.0/examples/jsm/postprocessing/UnrealBloomPass.js';
    import { OutlinePass } from 'https://cdn.jsdelivr.net/npm/three@0.163.0/examples/jsm/postprocessing/OutlinePass.js';
    // --- End MODIFIED Imports ---


    // --- Global Variables for Main Scene ---
    let scene, camera, renderer, controls, composer; /* */
    let raycaster, mouse; /* */
    let model; /* */
    let bloomPass, outlinePass; /* */
    let selectedPart = null; /* */
    let initialCameraPosition = new THREE.Vector3(); /* */
    let initialControlsTarget = new THREE.Vector3(); /* */
    let arLabels = {}; /* */
    let tracker = document.getElementById('body-tracker'); /* */
    let audioEnabled = true; /* */

    // --- Global Variables for Logo Scene ---
    let logoScene, logoCamera, logoRenderer, logoModel; /* */
    const logoContainer = document.getElementById('logo-container'); // Reference the new div /* */

    // DOM elements
    const canvasContainer = document.getElementById('canvas-container'); /* */
    const infoContent = document.getElementById('info-content'); /* */
    const loadingOverlay = document.getElementById('loading-overlay'); /* */
    const progressBar = document.getElementById('progress-bar'); /* */
    const loadingText = document.getElementById('loading-text'); /* */
    const panelToggle = document.getElementById('panel-toggle'); /* */
    const infoPanel = document.getElementById('info-panel'); /* */
    const systemStatus = document.getElementById('system-status'); /* */
    // Audio elements
    const soundClick = document.getElementById('sound-click'); /* */
    const soundHover = document.getElementById('sound-hover'); /* */
    const soundScan = document.getElementById('sound-scan'); /* */

    // Detailed information for each body part
    const bodyPartsData = { /* ... Keep bodyPartsData definition ... */ }; /* */

    // --- Initialization ---
    function init() { /* */
      initSceneAndCamera(); /* */
      setupRenderer(); /* */
      setupLighting(); /* */
      setupPostProcessing(); /* */
      setupControls(); /* */
      setupRaycaster(); /* */
      setupARElements(); /* */
      loadEnvironmentMap(); /* */
      loadModel(); /* */
      initLogoScene(); // Initialize the Logo Scene /* */
      setupEventListeners(); /* */
      animate(); /* */
    } /* */

    // --- Setup Main Scene and Camera ---
    function initSceneAndCamera() { /* ... Keep function ... */ } /* */

    // --- Setup Main Renderer ---
    function setupRenderer() { /* ... Keep function ... */ } /* */

    // --- Setup Main Lighting ---
    function setupLighting() { /* ... Keep function ... */ } /* */

    // --- Setup Main Post-Processing Effects ---
    function setupPostProcessing() { /* ... Keep function ... */ } /* */

    // --- Setup Main Controls ---
    function setupControls() { /* ... Keep function ... */ } /* */

    // --- Setup Main Raycaster ---
    function setupRaycaster() { /* ... Keep function ... */ } /* */

    // --- Setup Main AR Elements ---
    function setupARElements() { /* ... Keep function ... */ } /* */

    // --- Load Main Environment Map for Reflections ---
    function loadEnvironmentMap() { /* ... Keep function ... */ } /* */

    // --- Load Main 3D Model ---
    function loadModel() { /* ... Keep function ... */ } /* */

    // --- Optimize and Center Main Model ---
    function optimizeAndCenterModel(model) { /* ... Keep function ... */ } /* */

    // --- Add visual debug box for Main Scene zones ---
    function addDebugBox(partId, box) { /* ... Keep function ... */ } /* */

    // --- Apply Biotech Material Effect for Main Model ---
    function applyBioScanMaterial(model) { /* ... Keep function ... */ } /* */

    // --- Update Main Controls For Model ---
    function updateControlsForModel() { /* ... Keep function ... */ } /* */

    // --- Complete Main Loading Process ---
    function completeLoading() { /* ... Keep function ... */ } /* */

    // --- Start Main Scan Animation ---
    function startScanAnimation() { /* ... Keep function ... */ } /* */

    // --- Show Main AR Label ---
    function showLabel(label) { /* ... Keep function ... */ } /* */

    // --- Update System Status ---
    function updateSystemStatus(status, color) { /* ... Keep function ... */ } /* */

    // --- --- LOGO SCENE FUNCTIONS --- ---

    // --- Initialize Logo Scene ---
    function initLogoScene() { /* ... Keep function ... */ } /* */

    // --- Load the Logo Model ---
    function loadLogoModel() { /* ... Keep function, ensure logoUrl is correct ... */
        const loader = new GLTFLoader(); /* */
        // IMPORTANT: Make sure this filename matches your actual logo file!
        const logoUrl = './your_logo_filename.glb'; // Use './' because it's in the same folder /* */

        loader.load( /* */
            logoUrl, /* */
            function (gltf) { /* */
                logoModel = gltf.scene; /* */

                // Optional: Scale and center the logo if needed
                const box = new THREE.Box3().setFromObject(logoModel); /* */
                const size = box.getSize(new THREE.Vector3()); /* */
                const center = box.getCenter(new THREE.Vector3()); /* */

                const maxDim = Math.max(size.x, size.y, size.z); /* */
                const scale = 1.5 / maxDim; // Adjust 1.5 to fit logo nicely /* */
                logoModel.scale.set(scale, scale, scale); /* */

                // Center the model
                box.setFromObject(logoModel); // Recalculate box after scaling /* */
                box.getCenter(center); /* */
                logoModel.position.sub(center); /* */

                logoScene.add(logoModel); /* */
                console.log("Logo model loaded successfully."); /* */
            }, /* */
            undefined, // Progress function (optional) /* */
            function (error) { /* */
                console.error('Error loading logo model:', error); /* */
                logoContainer.innerHTML = '<p style="color: red; padding: 5px; font-size: 10px;">Logo Load Error</p>'; /* */
            } /* */
        ); /* */
    } /* */

    // --- Logo Animation Loop ---
    function animateLogo() { /* ... Keep function ... */ } /* */

    // --- Handle Logo Resizing ---
    function onLogoResize() { /* ... Keep function ... */ } /* */

    // --- --- END LOGO SCENE FUNCTIONS --- ---


    // --- Setup Main Event Listeners ---
    function setupEventListeners() { /* ... Keep function ... */ } /* */

    // --- Visualization of all zones for debugging ---
    function showAllZones() { /* ... Keep function ... */ } /* */

    // --- Handle Main Window Resize ---
    function onWindowResize() { /* ... Keep function, ensures onLogoResize is called ... */ } /* */

    // --- Handle Main Double Click (Reset View) ---
    function onDoubleClick() { /* ... Keep function ... */ } /* */

    // --- Handle Main Mouse Move ---
    function onMouseMove(event) { /* ... Keep function ... */ } /* */

    // --- Update Main Tracker Position ---
    function updateTrackerPosition(position) { /* ... Keep function ... */ } /* */

    // --- Hide Main Tracker ---
    function hideTracker() { /* ... Keep function ... */ } /* */

    // --- Improved Main Click Handler ---
    function onClick(event) { /* ... Keep function ... */ } /* */

    // --- Get Main Body Part At Point ---
    function getBodyPartAtPoint(point) { /* ... Keep function ... */ } /* */

    // --- Select Main Body Part ---
    function selectBodyPart(partId, clickPoint) { /* ... Keep function ... */ } /* */

    // --- Clear Main Body Part Selection ---
    function clearBodyPartSelection() { /* ... Keep function ... */ } /* */

    // --- Update Main AR Labels Positions ---
    function updateARLabelsPositions() { /* ... Keep function ... */ } /* */

    // --- Main Animation Loop ---
    function animate() { /* ... Keep function ... */ } /* */

    // --- Initial Execution ---
    if (document.readyState === 'loading') { /* */
      document.addEventListener('DOMContentLoaded', init); /* */
    } else { /* */
      init(); /* */
    } /* */
  </script>
</body>
</html>
