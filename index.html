/html><!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>BioCare Health Assessment System</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Rajdhani:wght@400;500;600;700&family=Roboto:wght@300;400;500&display=swap">
  
  <!-- Load THREE.js and its dependencies first -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/loaders/GLTFLoader.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/controls/OrbitControls.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/loaders/DRACOLoader.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/postprocessing/EffectComposer.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/postprocessing/RenderPass.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/postprocessing/ShaderPass.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/shaders/FXAAShader.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/postprocessing/UnrealBloomPass.min.js"></script>
  
  <!-- After THREE.js, load React -->
  <script src="https://unpkg.com/react@17/umd/react.production.min.js"></script>
  <script src="https://unpkg.com/react-dom@17/umd/react-dom.production.min.js"></script>
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

  <style>
    /* --- CSS Styles --- */
    :root {
      --primary: #3b82f6; 
      --primary-hover: #2563eb; 
      --secondary: #10B981; 
      --accent: #06B6D4; 
      --dark-bg: #1e293b; 
      --panel-bg: #0f172a; 
      --text-primary: #F9FAFB; 
      --text-secondary: #D1D5DB; 
      --glow-primary: 0 0 15px rgba(59, 130, 246, 0.5); 
      --glow-secondary: 0 0 15px rgba(16, 185, 129, 0.5); 
    }
    body {
      font-family: 'Roboto', sans-serif; 
      margin: 0; 
      overflow: hidden; 
      background-color: var(--dark-bg); 
      color: var(--text-primary); 
    }
    h1, h2, h3, h4, h5, h6 {
      font-family: 'Rajdhani', sans-serif; 
      font-weight: 600; 
    }
    .sci-panel {
      background-color: rgba(15, 23, 42, 0.85); 
      backdrop-filter: blur(10px); 
      border: 1px solid rgba(59, 130, 246, 0.2); 
      border-radius: 0.5rem; 
      box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06), var(--glow-primary); 
    }
    .sci-title {
      position: relative; 
      overflow: hidden; 
    }
    .sci-title::before {
      content: ''; 
      position: absolute; 
      top: 0; 
      left: 0; 
      width: 5px; 
      height: 100%; 
      background: linear-gradient(180deg, var(--primary), var(--secondary)); 
    }
    .sci-badge {
      background: linear-gradient(45deg, var(--primary), var(--accent)); 
      color: white; 
      padding: 0.25rem 0.75rem; 
      border-radius: 9999px; 
      font-size: 0.75rem; 
      font-weight: 500; 
    }
    .sci-highlight {
      color: var(--secondary); 
      font-weight: 500; 
    }
    .glow-text {
      text-shadow: 0 0 8px rgba(59, 130, 246, 0.6); 
    }
    /* Canvas Styling */
    #canvas-container {
      flex-grow: 1; 
      height: 100vh; 
      position: relative; 
    }
    #canvas-container canvas {
      display: block; 
      width: 100%; 
      height: 100%; 
      cursor: grab; 
    }
    #canvas-container canvas:active {
      cursor: grabbing; 
    }
    /* Sidebar Panel */
    #info-panel {
      width: 375px; 
      height: 100vh; 
      overflow-y: auto; 
      flex-shrink: 0; 
      background-color: var(--panel-bg); 
      transition: transform 0.3s ease; 
      scrollbar-width: thin; 
      scrollbar-color: var(--primary) var(--panel-bg); 
    }
    #info-panel::-webkit-scrollbar {
      width: 8px; 
    }
    #info-panel::-webkit-scrollbar-track {
      background: var(--panel-bg); 
    }
    #info-panel::-webkit-scrollbar-thumb {
      background-color: var(--primary); 
      border-radius: 20px; 
    }
    /* Loading Overlay */
    #loading-overlay {
      position: fixed; 
      top: 0; 
      left: 0; 
      right: 0; 
      bottom: 0; 
      background-color: rgba(15, 23, 42, 0.95); 
      display: flex; 
      flex-direction: column; 
      justify-content: center; 
      align-items: center; 
      z-index: 50; 
    }
    .progress-bar {
      width: 300px; 
      height: 8px; 
      background-color: rgba(255, 255, 255, 0.1); 
      border-radius: 4px; 
      overflow: hidden; 
      margin-top: 2rem; 
    }
    .progress-fill {
      height: 100%; 
      background: linear-gradient(90deg, var(--primary), var(--secondary)); 
      width: 0%; 
      transition: width 0.3s ease; 
      box-shadow: var(--glow-primary); 
    }
    /* Controls Guide */
    #controls-guide {
      position: absolute; 
      bottom: 1rem; 
      right: 1rem; 
      background-color: rgba(15, 23, 42, 0.8); 
      color: white; 
      font-size: 0.75rem; 
      line-height: 1.25rem; 
      padding: 0.75rem; 
      border-radius: 0.5rem; 
      box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06); 
      z-index: 10; 
      max-width: 250px; 
      backdrop-filter: blur(8px); 
      border: 1px solid rgba(59, 130, 246, 0.15); 
      transition: opacity 0.3s; 
      opacity: 0.7; 
    }
    #controls-guide:hover {
      opacity: 1; 
    }
    /* HUD Elements */
    .hud-element {
      position: absolute; 
      pointer-events: none; 
      z-index: 5; 
      font-family: 'Rajdhani', sans-serif; 
    }
    .body-stat {
      top: 1rem; 
      left: 1rem; 
      font-size: 0.8rem; 
      padding: 0.75rem; 
      color: var(--text-secondary); 
      max-width: 250px; 
    }
    .body-scan-line {
      position: absolute; 
      width: 100%; 
      height: 4px; 
      background: linear-gradient(90deg, transparent, rgba(59, 130, 246, 0.2), rgba(59, 130, 246, 0.5), rgba(59, 130, 246, 0.2), transparent); 
      z-index: 10; 
      pointer-events: none; 
      box-shadow: 0 0 15px rgba(59, 130, 246, 0.4); 
      opacity: 0; 
      animation: scanAnimation 8s infinite; 
    }
    @keyframes scanAnimation {
      0% { top: 0%; opacity: 1; } 
      90% { top: 100%; opacity: 1; } 
      91% { opacity: 0; } 
      100% { top: 0%; opacity: 0; } 
    }
    /* HUD Trackers */
    .tracker {
      position: absolute; 
      width: 80px; 
      height: 80px; 
      pointer-events: none; 
      z-index: 5; 
      border: 1px solid rgba(59, 130, 246, 0.5); 
      border-radius: 50%; 
      transform: translate(-50%, -50%); 
      background: radial-gradient(circle, rgba(59, 130, 246, 0.15) 0%, rgba(16, 185, 129, 0.05) 70%, transparent 100%); 
      box-shadow: 0 0 15px rgba(59, 130, 246, 0.3); 
      opacity: 0; 
      transition: opacity 0.5s; 
    }
    .tracker::before, .tracker::after {
      content: ''; 
      position: absolute; 
      top: 50%; 
      left: 50%; 
      transform: translate(-50%, -50%); 
      border-radius: 50%; 
    }
    .tracker::before {
      width: 60px; 
      height: 60px; 
      border: 1px dashed rgba(59, 130, 246, 0.5); 
      animation: rotate 10s linear infinite; 
    }
    .tracker::after {
      width: 10px; 
      height: 10px; 
      background-color: rgba(16, 185, 129, 0.8); 
      box-shadow: 0 0 8px rgba(16, 185, 129, 0.8); 
    }
    @keyframes rotate {
      from { transform: translate(-50%, -50%) rotate(0deg); } 
      to { transform: translate(-50%, -50%) rotate(360deg); } 
    }
    /* Augmented Reality Styled Labels */
    .ar-label {
      position: absolute; 
      color: var(--secondary); 
      font-size: 0.7rem; 
      letter-spacing: 0.05em; 
      pointer-events: none; 
      z-index: 5; 
      transition: opacity 0.5s; 
      opacity: 0; 
      text-shadow: 0 0 5px var(--secondary); 
    }
    .ar-label::after {
      content: ''; 
      position: absolute; 
      top: 50%; 
      width: 30px; 
      height: 1px; 
      background-color: var(--secondary); 
      opacity: 0.5; 
    }
    .ar-label-left {
      text-align: right; 
    }
    .ar-label-left::after {
      right: -35px; 
    }
    .ar-label-right {
      text-align: left; 
    }
    .ar-label-right::after {
      left: -35px; 
    }
    .info-card {
      opacity: 0; 
      transform: translateY(20px); 
      transition: opacity 0.5s, transform 0.5s; 
    }
    .info-card.show {
      opacity: 1; 
      transform: translateY(0); 
    }
    /* Responsive Styles */
    @media (max-width: 768px) {
      .flex-col-reverse { flex-direction: column-reverse; } 
      #info-panel {
        width: 100%; 
        height: 40%; 
        min-height: 250px; 
        max-height: 50%; 
      }
      #canvas-container {
        height: 60%; 
      }
      .panel-toggle {
        display: block !important; 
      }
      #info-panel.collapsed {
        transform: translateY(calc(100% - 40px)); 
      }
      #toggle-panel-icon {
        transform: rotate(0deg); 
        transition: transform 0.3s; 
      }
      #info-panel.collapsed #toggle-panel-icon {
        transform: rotate(180deg); 
      }
    }
    /* Additional styles for assessment tests */
    .test-panel {
      max-width: 100%; 
      height: 100%; 
      overflow-y: auto; 
      padding: 1rem; 
    }

    .blink-animation {
      animation: blink 1.5s infinite; 
    }

    @keyframes blink {
      0% { opacity: 0.3; } 
      50% { opacity: 1; } 
      100% { opacity: 0.3; } 
    }

    .pulse-animation {
      animation: pulse 2s infinite; 
    }

    @keyframes pulse {
      0% { transform: scale(1); } 
      50% { transform: scale(1.05); } 
      100% { transform: scale(1); } 
    }

    .glow {
      box-shadow: 0 0 15px white; 
      animation: glow 1.5s infinite alternate; 
    }

    @keyframes glow {
      from { box-shadow: 0 0 5px rgba(59, 130, 246, 0.6); } 
      to { box-shadow: 0 0 20px rgba(59, 130, 246, 0.9); } 
    }
    
    /* Logo container styling */
    #logo-container {
      position: absolute;
      top: 20px;
      right: 20px;
      width: 100px;
      height: 100px;
      z-index: 10;
      pointer-events: none;
    }
  </style>
</head>
<body>
  <div id="loading-overlay">
    <h2 class="text-4xl font-bold text-center mb-2 glow-text">BIOCARE ASSESSMENT SYSTEM</h2> 
    <p class="text-blue-400 mb-2">Biometric scanning in progress...</p> 
    <p class="text-gray-400 mb-6">Please remain still while we analyze your health parameters</p> 
    <div class="progress-bar"> 
      <div class="progress-fill" id="progress-bar"></div> 
    </div>
    <p id="loading-text" class="mt-4 text-sm text-gray-300 blink-animation">Initializing bioscan...</p> 
  </div>

  <div class="flex h-screen md:flex-row flex-col-reverse">
    <div id="info-panel" class="relative">
      <button id="panel-toggle" class="panel-toggle hidden absolute top-4 right-4 md:hidden bg-gray-700 p-2 rounded-md hover:bg-gray-600 focus:outline-none">
        <svg id="toggle-panel-icon" xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor"> 
          <path fill-rule="evenodd" d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z" clip-rule="evenodd" /> 
        </svg>
      </button>
      <div class="p-6">
        <div class="sci-title pl-6 mb-4">
          <h1 class="text-2xl font-bold">BioCare Assessment System</h1> 
          <p class="text-sm text-gray-400">Personalized Health Diagnostics</p> 
        </div>
        <div class="flex items-center space-x-2 mb-4">
          <div class="sci-badge bg-blue-700 text-blue-50">
            <span class="opacity-60">BIO</span><span>METRICS</span> 
          </div>
          <div class="h-2 w-2 rounded-full bg-green-400 animate-pulse"></div> 
          <div class="text-xs text-green-400">ASSESSMENT ACTIVE</div> 
        </div>
      </div>
      <div id="test-container" class="px-6 pb-6">
        <!-- React content will be rendered here -->
      </div>
    </div>

    <div id="canvas-container" class="relative">
      <div class="hud-element body-stat sci-panel">
        <div class="text-xs text-blue-300 mb-1">DIAGNOSTIC STATUS</div> 
        <div class="text-xs">
          <span>SYSTEM</span>: <span id="system-status" class="text-green-400">STANDBY</span> 
        </div>
        <div class="text-xs">
          <span>RECOMMENDED TESTS</span>: <span class="text-yellow-400">5</span> 
        </div>
      </div>
      <div class="body-scan-line"></div> 
      <div id="body-tracker" class="tracker"></div> 
      <div id="head-label" class="ar-label ar-label-left">COGNITIVE ASSESSMENT</div> 
      <div id="torso-label" class="ar-label ar-label-right">CARDIOVASCULAR TEST</div> 
      <div id="arm-label" class="ar-label ar-label-left">REACTION ASSESSMENT</div> 
      <div id="leg-label" class="ar-label ar-label-right">STABILITY ASSESSMENT</div> 
      <div id="abdomen-label" class="ar-label ar-label-right">BODY COMPOSITION</div> 
      <div id="controls-guide" class="sci-panel">
        <div class="text-xs text-blue-300 mb-1 font-semibold">INTERFACE CONTROLS</div> 
        <div class="grid grid-cols-2 gap-x-3 gap-y-1 text-xs">
          <span>ROTATE VIEW</span><span class="text-gray-300">Left Mouse / Drag</span> 
          <span>ZOOM</span><span class="text-gray-300">Mouse Wheel</span> 
          <span>PAN</span><span class="text-gray-300">Right Mouse / Drag</span> 
          <span>RESET VIEW</span><span class="text-gray-300">Double Click</span> 
          <span>SELECT TEST</span><span class="text-gray-300">Click Body Area</span> 
        </div>
      </div>
    </div>
  </div>

  <script>
    // --- Global Variables ---
    let scene, camera, renderer, model, controls, composer;
    let raycaster, mouse;
    let INTERSECTED;
    let bodyParts = {}; // To store interactable body parts
    let arLabels = {}; // To store AR label elements
    let labelPositions = {}; // To store 3D positions for labels
    let trackerElement;
    let canvasContainer;
    let loadingManager;
    let progressBar;
    let loadingText;
    let ambientLight, hemiLight, dirLight;
    let bloomPass;
    let windowHalfX = window.innerWidth / 2;
    let windowHalfY = window.innerHeight / 2;
    let currentIntersectedPart = null; // Track hovered part
    let selectedPart = null; // Track clicked part
    let myLogoModel = null;
    let logoScene, logoCamera, logoRenderer;

    // --- Initialization ---
    function init() {
      // Ensure THREE is loaded before proceeding
      if (typeof THREE === 'undefined') {
          console.error("THREE.js core not loaded yet. Retrying...");
          // Retry initialization after a short delay
          setTimeout(init, 100); 
          return; 
      }
      console.log("THREE object found. Initializing...");

      // Initialize basic THREE objects
      raycaster = new THREE.Raycaster();
      mouse = new THREE.Vector2();

      canvasContainer = document.getElementById('canvas-container');
      progressBar = document.getElementById('progress-bar');
      loadingText = document.getElementById('loading-text');
      trackerElement = document.getElementById('body-tracker');

      // Loading Manager
      setupLoadingManager();

      // Scene
      scene = new THREE.Scene();
      scene.background = new THREE.Color(0x1e293b); // Match dark-bg

      // Camera
      camera = new THREE.PerspectiveCamera(45, canvasContainer.clientWidth / canvasContainer.clientHeight, 0.1, 100);
      camera.position.set(0, 1, 5);

      // Renderer
      renderer = new THREE.WebGLRenderer({ antialias: true, alpha: true });
      renderer.setSize(canvasContainer.clientWidth, canvasContainer.clientHeight);
      renderer.setPixelRatio(window.devicePixelRatio);
      renderer.outputEncoding = THREE.sRGBEncoding;
      renderer.shadowMap.enabled = true;
      renderer.shadowMap.type = THREE.PCFSoftShadowMap;
      canvasContainer.appendChild(renderer.domElement);

      // Lights
      setupLights();

      // Controls
      setupControls();

      // Post-processing
      setupPostProcessing();
      
      // Set up the logo
      setupLogo();

      // Load Model
      loadMainModel();

      // Load AR Labels
      loadARLabels();

      // Event Listeners
      setupEventListeners();

      // Start Animation
      animate();
    }

    // --- Setup Functions ---
    function setupLoadingManager() {
      // Ensure THREE is loaded before creating LoadingManager
      if (typeof THREE === 'undefined') {
          console.error("THREE not defined in setupLoadingManager");
          return;
      }
      loadingManager = new THREE.LoadingManager();
      const loadingOverlay = document.getElementById('loading-overlay');

      loadingManager.onStart = function (url, itemsLoaded, itemsTotal) {
        loadingText.textContent = 'Initializing bioscan...';
      };

      loadingManager.onLoad = function () {
        loadingOverlay.style.opacity = '0';
        setTimeout(() => {
          loadingOverlay.style.display = 'none';
          // Fade in labels after load
          Object.values(arLabels).forEach(el => el.style.opacity = '0.7');
          document.getElementById('system-status').textContent = 'ONLINE';
          document.getElementById('system-status').classList.remove('text-yellow-400'); 
          document.getElementById('system-status').classList.add('text-green-400');
        }, 500); // Delay hiding to allow fade out
      };

      loadingManager.onProgress = function (url, itemsLoaded, itemsTotal) {
        const progress = (itemsLoaded / itemsTotal) * 100;
        progressBar.style.width = progress + '%';
        loadingText.textContent = `Analyzing biometric data... ${Math.round(progress)}%`;
      };

      loadingManager.onError = function (url) {
        console.error('There was an error loading ' + url);
        loadingText.textContent = 'Error initializing system. Please refresh.';
      };
    }

    function setupLights() {
      ambientLight = new THREE.AmbientLight(0xffffff, 0.3); // Soft ambient light
      scene.add(ambientLight);

      hemiLight = new THREE.HemisphereLight(0xadd8e6, 0x404040, 0.6); // Light blue sky, brown ground
      scene.add(hemiLight);

      dirLight = new THREE.DirectionalLight(0xffffff, 0.8);
      dirLight.position.set(5, 10, 7.5);
      dirLight.castShadow = true;
      dirLight.shadow.mapSize.width = 1024;
      dirLight.shadow.mapSize.height = 1024;
      dirLight.shadow.camera.near = 0.5;
      dirLight.shadow.camera.far = 50;
      dirLight.shadow.camera.left = -10;
      dirLight.shadow.camera.right = 10;
      dirLight.shadow.camera.top = 10;
      dirLight.shadow.camera.bottom = -10;
      scene.add(dirLight);
    }

    function setupControls() {
      controls = new THREE.OrbitControls(camera, renderer.domElement);
      controls.enableDamping = true;
      controls.dampingFactor = 0.1;
      controls.screenSpacePanning = false;
      controls.minDistance = 2;
      controls.maxDistance = 15;
      controls.target.set(0, 0.9, 0); // Center around the model's torso
      controls.maxPolarAngle = Math.PI / 1.8; // Prevent looking directly from top/bottom
      controls.minPolarAngle = Math.PI / 4; // Prevent looking from too low
      controls.update();
    }

    function setupPostProcessing() {
      composer = new THREE.EffectComposer(renderer);
      const renderPass = new THREE.RenderPass(scene, camera);
      composer.addPass(renderPass);

      // Bloom pass
      bloomPass = new THREE.UnrealBloomPass(new THREE.Vector2(window.innerWidth, window.innerHeight), 1.0, 0.3, 0.85);
      composer.addPass(bloomPass);

      // FXAA Pass
      const fxaaPass = new THREE.ShaderPass(THREE.FXAAShader);
      fxaaPass.material.uniforms['resolution'].value.x = 1 / (canvasContainer.clientWidth * renderer.getPixelRatio());
      fxaaPass.material.uniforms['resolution'].value.y = 1 / (canvasContainer.clientHeight * renderer.getPixelRatio());
      composer.addPass(fxaaPass);
    }

    // --- Logo Setup Function ---
    function setupLogo() {
      // Create a dedicated container for the logo
      const logoContainer = document.createElement('div');
      logoContainer.id = 'logo-container';
      logoContainer.style.position = 'absolute';
      logoContainer.style.top = '20px';
      logoContainer.style.right = '20px';
      logoContainer.style.width = '100px';
      logoContainer.style.height = '100px';
      logoContainer.style.zIndex = '10';
      logoContainer.style.pointerEvents = 'none';
      canvasContainer.appendChild(logoContainer);
      
      // Create a separate scene, camera and renderer for the logo
      logoScene = new THREE.Scene();
      logoCamera = new THREE.PerspectiveCamera(60, 1, 0.1, 1000);
      logoCamera.position.set(0, 0, 5);
      
      logoRenderer = new THREE.WebGLRenderer({ 
        antialias: true, 
        alpha: true,
        powerPreference: "high-performance" 
      });
      logoRenderer.setSize(100, 100);
      logoRenderer.setClearColor(0x000000, 0); // Transparent background
      logoRenderer.setPixelRatio(window.devicePixelRatio);
      
      // Add to the logo container
      document.getElementById('logo-container').appendChild(logoRenderer.domElement);
      
      // Add lighting to the logo scene
      const logoAmbientLight = new THREE.AmbientLight(0xffffff, 0.5);
      logoScene.add(logoAmbientLight);
      
      const logoDirectionalLight = new THREE.DirectionalLight(0x3b82f6, 1.0);
      logoDirectionalLight.position.set(5, 5, 5);
      logoScene.add(logoDirectionalLight);
      
      // Create a simple geometry for the logo instead of loading a model
      const geometry = new THREE.TorusKnotGeometry(1.5, 0.5, 64, 8, 2, 3);
      const material = new THREE.MeshStandardMaterial({
        color: 0x3b82f6,
        metalness: 0.8,
        roughness: 0.2,
        emissive: 0x1e40af,
        emissiveIntensity: 0.5
      });
      
      myLogoModel = new THREE.Mesh(geometry, material);
      logoScene.add(myLogoModel);
      
      console.log('Logo created successfully');
    }
    const CardiovascularTest = () => (
      <div className="sci-panel p-6 info-card show">
        <h2 className="text-xl font-bold mb-3 text-blue-400">Cardiovascular Assessment</h2>
        <div className="mb-4 p-3 bg-blue-900 bg-opacity-20 rounded border border-blue-800">
          <p className="text-sm text-blue-200">This test evaluates heart rate, blood pressure, and cardiovascular capacity.</p>
        </div>
        
        <div className="mb-4">
          <h3 className="text-lg font-medium text-blue-300 mb-2">Current Vitals</h3>
          <div className="grid grid-cols-2 gap-4">
            <div className="p-3 bg-blue-900 bg-opacity-20 rounded border border-blue-800">
              <div className="text-xs text-gray-400">Heart Rate</div>
              <div className="text-xl text-blue-300 font-medium">72 <span className="text-sm">BPM</span></div>
            </div>
            <div className="p-3 bg-blue-900 bg-opacity-20 rounded border border-blue-800">
              <div className="text-xs text-gray-400">Blood Pressure</div>
              <div className="text-xl text-blue-300 font-medium">120/80 <span className="text-sm">mmHg</span></div>
            </div>
          </div>
        </div>
        
        <div className="space-y-6">
          <div>
            <h3 className="text-lg font-medium text-blue-300 mb-2">Cardiovascular Capacity</h3>
            <p className="text-sm mb-3">Measures how effectively your heart pumps blood during physical activity.</p>
            <div className="w-full h-24 bg-blue-900 bg-opacity-20 rounded border border-blue-800 p-3">
              <div className="text-xs text-gray-400 mb-1">VO2 Max Estimate</div>
              <div className="relative h-4 bg-blue-900 bg-opacity-40 rounded-full overflow-hidden">
                <div className="absolute top-0 left-0 h-full w-3/5 bg-gradient-to-r from-blue-500 to-green-400 rounded-full"></div>
              </div>
              <div className="flex justify-between text-xs text-gray-400 mt-1">
                <span>Low</span>
                <span>Average</span>
                <span>High</span>
              </div>
            </div>
          </div>
          
          <div>
            <h3 className="text-lg font-medium text-blue-300 mb-2">Recovery Test</h3>
            <p className="text-sm mb-3">Measures how quickly your heart rate returns to normal after exertion.</p>
            <button className="w-full py-3 bg-blue-900 hover:bg-blue-800 bg-opacity-40 border border-blue-700 rounded-md text-blue-400 font-medium">
              Start Recovery Test
            </button>
          </div>
        </div>
        
        <div className="mt-6 pt-4 border-t border-blue-900">
          <button className="px-4 py-2 bg-blue-600 hover:bg-blue-700 rounded-md text-white text-sm font-medium transition-colors">
            Begin Full Assessment
          </button>
        </div>
      </div>
    );

    const StabilityTest = () => (
      <div className="sci-panel p-6 info-card show">
        <h2 className="text-xl font-bold mb-3 text-blue-400">Stability Assessment</h2>
        <div className="mb-4 p-3 bg-blue-900 bg-opacity-20 rounded border border-blue-800">
          <p className="text-sm text-blue-200">This test evaluates balance, stability, and posture control.</p>
        </div>
        
        <div className="mb-6">
          <h3 className="text-lg font-medium text-blue-300 mb-2">Balance Analysis</h3>
          <div className="w-full aspect-square bg-blue-900 bg-opacity-20 rounded-md border border-blue-700 p-4 flex items-center justify-center">
            <div className="relative w-full h-full">
              <div className="absolute inset-0 flex items-center justify-center">
                <div className="w-24 h-24 border-2 border-dashed border-blue-500 rounded-full"></div>
                <div className="absolute w-3 h-3 bg-green-400 rounded-full shadow-lg shadow-green-400/50"></div>
              </div>
              <div className="absolute bottom-0 left-0 right-0 h-1/3 flex items-end justify-between px-4 text-xs text-gray-400">
                <span>Left</span>
                <span>Stability Distribution</span>
                <span>Right</span>
              </div>
            </div>
          </div>
        </div>
        
        <div className="space-y-6">
          <div>
            <h3 className="text-lg font-medium text-blue-300 mb-2">Posture Assessment</h3>
            <div className="grid grid-cols-3 gap-4 mb-2">
              <div className="p-2 bg-blue-900 bg-opacity-20 rounded border border-blue-800 text-center">
                <div className="text-xs text-gray-400">Alignment</div>
                <div className="text-sm text-blue-300 font-medium">94%</div>
              </div>
              <div className="p-2 bg-blue-900 bg-opacity-20 rounded border border-blue-800 text-center">
                <div className="text-xs text-gray-400">Symmetry</div>
                <div className="text-sm text-blue-300 font-medium">88%</div>
              </div>
              <div className="p-2 bg-blue-900 bg-opacity-20 rounded border border-blue-800 text-center">
                <div className="text-xs text-gray-400">Stability</div>
                <div className="text-sm text-blue-300 font-medium">91%</div>
              </div>
            </div>
          </div>
          
          <div>
            <h3 className="text-lg font-medium text-blue-300 mb-2">Dynamic Tests</h3>
            <p className="text-sm mb-3">Follow on-screen prompts to complete movement challenges.</p>
            <button className="w-full py-3 bg-blue-900 hover:bg-blue-800 bg-opacity-40 border border-blue-700 rounded-md text-blue-400 font-medium">
              Start Dynamic Assessment
            </button>
          </div>
        </div>
        
        <div className="mt-6 pt-4 border-t border-blue-900">
          <button className="px-4 py-2 bg-blue-600 hover:bg-blue-700 rounded-md text-white text-sm font-medium transition-colors">
            Complete Assessment
          </button>
        </div>
      </div>
    );

    // Ensure React DOM render happens after the container element exists
    ReactDOM.render(<TestManager />, document.getElementById('test-container'));
  </script>
